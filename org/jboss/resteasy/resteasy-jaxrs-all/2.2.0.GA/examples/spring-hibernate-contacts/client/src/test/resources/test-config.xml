<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:util="http://www.springframework.org/schema/util"
       xmlns:p="http://www.springframework.org/schema/p"
       xsi:schemaLocation="
http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd">

    <!-- This class initializes Built In Providers -->
    <bean id="resteasyClientInitializer"
          class="org.jboss.resteasy.plugins.spring.ResteasyClientInitializer"/>

    <bean id="client" class="org.jboss.resteasy.client.ProxyFactory" factory-method="create">
        <constructor-arg value="org.jboss.resteasy.examples.contacts.client.ContactClient"/>
        <constructor-arg value="http://localhost:9095/services"/>
    </bean>

    <bean name="webAppContext"
          class="org.mortbay.jetty.webapp.WebAppContext"
          p:contextPath="/services"
          p:war="../services/target/resteasy-service.war"/>

    <bean name="defaultHandler"
          class="org.mortbay.jetty.handler.DefaultHandler"/>

    <bean name="handlerCollection"
          class="org.mortbay.jetty.handler.HandlerCollection">
        <property name="handlers">
            <list>
                <ref bean="webAppContext"/>
                <ref bean="defaultHandler"/>
            </list>
        </property>
    </bean>

    <bean name="connector" class="org.mortbay.jetty.nio.SelectChannelConnector"
          p:host="localhost" p:port="9095" p:maxIdleTime="60000"/>

    <bean name="servletContainer" class="org.mortbay.jetty.Server"
          p:handler-ref="handlerCollection">
        <property name="connectors">
            <list>
                <ref bean="connector"/>
            </list>
        </property>
    </bean>

    <bean name="jettyLifecycleManager" class="org.jboss.resteasy.springmvc.JettyLifecycleManager">
        <property name="servletContainer" ref="servletContainer"/>
    </bean>
</beans>
